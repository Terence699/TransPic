## **TransPic 产品需求文档 (PRD)**

| **文档版本** | **V1.0** |
| :----------- | :--------------------------------------- |
| **创建日期** | 2025年6月23日                             |
| **创建人** | Yifu Yuan                       |
| **项目状态** | **待开发 (To Be Developed)** |

### 1. 产品概述 (Product Overview)

#### 1.1. 产品愿景 (Vision)

`TransPic` 致力于成为网络上最快速、最注重隐私、设计最优雅的轻量级图片处理工具集。它通过纯客户端计算，为用户提供零延迟、无广告、无需上传个人文件的核心图片处理功能，让简单的图像操作回归简单。

#### 1.2. 目标用户 (Target Audience)

* **内容创作者/自媒体人:** 需要快速调整图片尺寸以适应不同平台、压缩图片以上传至网站。
* **学生与职场人士:** 需要转换图片格式用于报告或演示，或将 PDF 页面转换为图片。
* **普通网民:** 偶尔需要对图片进行简单处理，但不希望下载和安装笨重的桌面软件。

#### 1.3. 解决的问题 (Problem Statement)

现有在线图片工具通常存在以下痛点：
1.  **隐私风险:** 用户需将图片上传至未知服务器，存在数据泄露风险。
2.  **效率低下:** 上传和下载过程耗时，网络状况影响体验。
3.  **体验不佳:** 网站充斥着大量广告和无关功能，界面混乱。
4.  **功能限制:** 免费版通常有严格的次数、文件大小或批量处理限制。

`TransPic` 通过纯浏览器端处理，从根本上解决了以上所有问题。

#### 1.4. 成功指标 (Success Metrics)

由于无用户系统，我们将通过 Vercel Analytics 或其他隐私友好的分析工具追踪以下指标：
* **核心指标:**
    * 每月独立访客数 (Monthly Unique Visitors)
    * 功能使用率 (统计每个核心功能的成功处理/下载次数)
* **辅助指标:**
    * 用户平均会话时长 (Average Session Duration)
    * 跳出率 (Bounce Rate)
    * 移动端与桌面端用户比例

---

### 2. 设计与风格指南 (Design & Style Guidelines)

遵循苹果的设计哲学，强调 **清晰、专注、有质感**。
* **布局:** 采用“工具面板 + 内容舞台”的结构，视觉焦点始终是用户的内容。
* **色彩:** 以中性色（白、黑、不同层次的灰）为主体，搭配单一、明确的强调色（如蓝色或靛蓝色）用于所有可交互元素。
* **字体:** 使用系统默认 UI 字体，通过字重和大小构建清晰的视觉层级。
* **空间:** 大量留白，创造呼吸感和高级感。
* **质感:** 谨慎使用极细边框、微妙阴影和毛玻璃效果来营造层次感。所有交互都应有平滑的过渡动画。

---

### 3. 全局功能 (Global Features)

#### 3.1. 国际化 (i18n)
* **FR-G1:** 网站需支持 **简体中文** 和 **英文** 两种语言。
* **FR-G2:** 应在页面页脚或右上角提供一个清晰的语言切换器。
* **FR-G3:** 切换语言后，页面内容应立即更新，无需刷新页面。

#### 3.2. 文件处理
* **FR-G4:** 所有功能页都应包含一个统一风格的文件上传区域。
* **FR-G5:** 上传区域需支持点击选择文件和拖拽文件两种方式。
* **FR-G6:** 支持一次拖入多个文件用于批量处理（在支持批量处理的功能中）。
* **FR-G7:** 当用户上传不支持的文件格式或超出大小限制（10MB）时，系统需给出清晰、友好的错误提示。

#### 3.3. 响应式设计
* **FR-G8:** 网站必须在桌面、平板和移动设备上都有良好的显示和使用体验。
* **FR-G9:** 在移动端，工具面板可以考虑以底部抽屉 (Bottom Sheet) 的形式呈现，以节省宝贵的屏幕空间。

#### 3.4. 亮色/暗色模式
* **FR-G10:** 提供手动切换亮色/暗色模式的开关。
* **FR-G11:** （可选）默认跟随系统设置。

---

### 4. 功能详述 (Feature Specifications)

#### 4.1. 功能一：图片压缩 (Image Compression)

* **用户故事:** 作为一个博主，我希望能轻松地减小我的文章插图文件大小，以便我的网站加载更快，同时尽量不损失肉眼可见的图片质量。
* **UI/UX 流程:**
    1.  用户进入“图片压缩”页面。
    2.  点击或拖拽一张/多张图片到上传区域。
    3.  上传后，图片列表显示在下方，每张图片有一个预览图、原始大小、压缩后大小和状态。
    4.  在工具面板，用户可以通过一个滑块 (`Slider`) 来调整压缩质量（范围 0.0 - 1.0）。
    5.  调整滑块时，所有图片会重新进行压缩，并实时更新“压缩后大小”和预览图。
    6.  用户可以点击单张图片的“下载”按钮，或点击“全部下载”按钮将所有图片打包为 zip 文件下载。
* **验收标准:**
    * [ ] 支持上传 JPG, PNG, WEBP 格式。
    * [ ] 压缩质量滑块功能正常，能实时影响压缩结果。
    * [ ] 界面清晰展示压缩前后的文件大小对比。
    * [ ] 支持单张下载和批量打包下载。
    * [ ] 处理过程应有加载指示（如`Spinner`），且不能阻塞 UI。

#### 4.2. 功能二：图片调整大小 (Image Resizing)

* **用户故事:** 作为一个社交媒体运营，我需要将一张图片快速调整为多个不同平台的标准尺寸（如 1080x1080, 1920x1080），并希望能保持图片的原始比例以防拉伸。
* **UI/UX 流程:**
    1.  用户进入“调整大小”页面。
    2.  上传一张或多张图片。
    3.  在工具面板，用户可以输入新的宽度（Width）和高度（Height）。
    4.  面板中提供一个“锁定长宽比”的开关 (`Switch` 或 `Checkbox`)，默认为开启。
        * 开启时，修改宽度或高度，另一项会根据原始比例自动计算。
        * 关闭时，用户可以自由输入任何宽度和高度。
    5.  所有图片根据设置进行实时预览。
    6.  用户可以下载单张或批量下载。
* **验收标准:**
    * [ ] 支持上传 JPG, PNG, WEBP 格式。
    * [ ] 宽度和高度输入框功能正常。
    * [ ] “锁定长宽比”功能符合预期。
    * [ ] 批量处理时，所有图片应用相同的尺寸设置。
    * [ ] 下载的文件尺寸与设置的完全一致。

#### 4.3. 功能三：格式转换 (Format Conversion)

* **用户故事:** 作为一个学生，我需要将老师给的 PDF 课件中的某一页图表转换成 JPG 格式插入到我的 PPT 中。
* **UI/UX 流程:**
    1.  用户进入“格式转换”页面。
    2.  上传一个或多个文件。
    3.  在工具面板，提供一个下拉菜单 (`Select`) 让用户选择目标输出格式 (JPG, PNG, WEBP, GIF, PDF)。
    4.  **特殊逻辑:**
        * 如果上传的是 PDF，界面需要额外显示一个页码选择器，让用户选择要转换哪一页。
        * 如果目标格式是 GIF，而源文件是静态图片或 PDF，则生成单帧 GIF。
        * 如果源文件是 GIF，目标是静态图片（JPG/PNG），则默认转换 GIF 的第一帧。
    5.  用户点击“转换”按钮，开始处理。
    6.  处理完成后，提供下载。
* **验收标准:**
    * [ ] 支持的输入格式：JPG, PNG, WEBP, GIF, PDF。
    * [ ] 支持的输出格式：JPG, PNG, WEBP, GIF, PDF。
    * [ ] 文件大小限制为 10MB。
    * [ ] PDF 转图片功能正常，页码选择功能可用。
    * [ ] GIF 转静态图片功能正常。

#### 4.4. 功能四：SVG 编辑器 (SVG Editor)

* **用户故事:** 作为一个前端开发者，我希望能快速预览和修改一个 SVG 图标的代码，并能方便地将它下载为 PNG 格式用于其他地方。
* **UI/UX 流程:**
    1.  用户进入“SVG 编辑器”页面。
    2.  界面分为左右两栏：左边是代码编辑区 (`Textarea`)，右边是实时预览区。
    3.  用户可以在左侧粘贴 SVG 代码，或者通过“上传 .svg 文件”按钮导入代码。
    4.  当左侧代码变化时，右侧预览区实时更新。
    5.  在工具面板（或预览区下方），提供三个下载按钮：“下载为 SVG”, “下载为 PNG”, “下载为 JPG”。
* **验收标准:**
    * [ ] 支持粘贴 SVG 代码和上传 .svg 文件。
    * [ ] 代码编辑与预览区实时同步。
    * [ ] 可以成功将当前预览的 SVG 下载为 .svg 文件。
    * [ ] 可以成功将当前预览的 SVG 转换为栅格图像并下载为 .png 或 .jpg 文件。

---

### 5. 范围外/未来规划 (Out of Scope / Future Work)

**V1.0 版本将不包含以下功能：**
* 用户账户系统和云端存储。
* 高级图像编辑功能（如滤镜、裁剪、旋转、添加水印/文字）。
* 支持更高级的图片格式（如 AVIF, HEIC）。
* 提供 API 服务。
* 团队协作功能。

这些可以作为未来版本迭代的方向。

### 6. 假设与依赖 (Assumptions & Dependencies)

* **假设:** 用户使用支持现代 JavaScript (ES6+) 和 WebAssembly 的主流浏览器（Chrome, Firefox, Safari, Edge）。
* **核心依赖:**
    * `browser-image-compression` (用于图片压缩)
    * `pica` (用于高质量图片缩放)
    * `pdf.js` (用于解析和渲染 PDF)
    * `canvg` (用于将 SVG 渲染到 Canvas)
    * `jszip` (可能需要，用于批量打包下载)